<html>
  <head>
    <title>Code City Svg Editor</title>
    <script src="SVG-Edit/jquery.min.js"></script>
    <script src="SVG-Edit/jquery-ui/jquery-ui-1.8.17.custom.min.js"></script>
    <script src="svg.js" type="module"></script>
    <link rel="stylesheet" href="../style/svg.css">
    <link rel="stylesheet" href="svg.css">
  </head>

  <body>
    <div id="toolbox">
      <div id="toolboxColumn1">
        <button id="mode-select" onclick="svgEditor.canvas.setMode('select')" title="Select tool">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
            <path stroke="#fff" fill="#000" d="m7.382,2.469l0.075,17.0326l3.301,-2.626l2.626,5.628l4.201,-2.626l-3.301,-4.802l4.576,-0.375l-11.478,-12.230z"/>
          </svg>
        </button>
        <button id="mode-pathedit" onclick="svgEditor.canvas.setMode('pathedit')" title="Select tool" style="display: none">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
            <circle stroke="#00f" fill="#0ff" r="3.879" cy="5.3" cx="8.7" stroke-width="1.5"/>
            <path d="m9.182,5.670.078,15.162l3.416,-2.338l2.717,5.009l4.347,-2.338l-3.416,-4.275l4.736,-0.334l-11.878,-10.887z" fill="#000" stroke="#fff"/>
          </svg>
        </button>
        <button id="mode-fhpath" onclick="svgEditor.canvas.setMode('fhpath')" title="Freehand tool">
          <svg viewBox="0 0 48 52" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
            <defs>
              <linearGradient id="fhpathGrad" x1="0.305" y1="0.109" x2="0.613" y2="0.394">
                <stop offset="0.0" stop-color="#f9d225" stop-opacity="1"/>
                <stop offset="1.0" stop-color="#bf5f00" stop-opacity="1"/>
              </linearGradient>
            </defs>
            <path d="M31.5,0 l-8.75,20.25 l0.75,24 l16.5,-16.5 l6,-12.5" fill="url(#fhpathGrad)" stroke="#000" stroke-width="2" fill-opacity="1" stroke-opacity="1"/>
            <path d="M39.5,28.5 c-2,-9.25 -10.25,-11.75 -17,-7.438 l0.484,24.441z" fill="#fce0a9" stroke="#000" stroke-width="2" fill-opacity="1" stroke-opacity="1"/>
            <path d="M26.932,41.174 c-0.449,-2.351 -2.302,-2.987 -3.818,-1.890 l0.109,6.213z" fill="#000" stroke="#000" stroke-width="2" fill-opacity="1" stroke-opacity="1"/>
            <path d="M2.313,4.620 c12.500,-1.689 10.473,7.094 0,21.622 c22.973,-4.054 12.162,5.405 12.162,13.176 c-0.338,4.054 8.784,21.959 26.014,-1.351" fill="none" stroke="#000" stroke-width="2" fill-opacity="1" stroke-opacity="1"/>
          </svg>
        </button>
        <button id="mode-line" onclick="svgEditor.canvas.setMode('line')" title="Line tool">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
            <defs>
              <linearGradient id="lineGrad1" x1="0.184" y1="0.262" x2="0.777" y2="0.566">
                <stop offset="0" stop-color="#fff" stop-opacity="1"/>
                <stop offset="1" stop-color="#fce564" stop-opacity="1"/>
              </linearGradient>
              <linearGradient id="lineGrad2" x1="0.465" y1="0.156" x2="0.938" y2="0.394">
                <stop offset="0" stop-color="#f2feff" stop-opacity="1"/>
                <stop offset="1" stop-color="#14609b" stop-opacity="1"/>
              </linearGradient>
            </defs>
            <line x1="0.998" y1="1.491" x2="12.977" y2="21.141" stroke="#000" fill="none"/>
            <path d="m14.053,13.687l-1.464,7.526l4.038,-6.326" stroke="#000" fill="#a0a0a0"/>
            <path d="m13.612,10.266c-0.386,1.052 -0.607,2.403 -0.504,3.125l4.335,1.814c0.462,-0.308 1.613,-1.714 1.613,-2.520" fill="url(#lineGrad1)" stroke="#000"/>
            <path d="m16.613,1.000l-3.673,8.602l7.103,3.473l3.178,-7.205" fill="url(#lineGrad2)" stroke="#000"/>
          </svg>
        </button>
        <button id="mode-square" onclick="svgEditor.canvas.setMode('square')" title="Square tool">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
            <defs>
              <linearGradient x1="0.363" y1="0.102" x2="1" y2="1" id="squareGrad">
                <stop offset="0" stop-color="#fff" stop-opacity="1"/>
                <stop offset="1" stop-color="#3b7e9b" stop-opacity="1"/>
              </linearGradient>
            </defs>
            <rect x="1.5" y="1.5" width="20" height="20" fill="url(#squareGrad)" stroke="#000"/>
          </svg>
        </button>
        <button id="mode-rect" onclick="svgEditor.canvas.setMode('rect')" title="Rectangle tool">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
            <defs>
              <linearGradient y2="1" x2="1" y1="0.102" x1="0.363" id="rectGrad">
                <stop stop-opacity="1" stop-color="#fff" offset="0"/>
                <stop stop-opacity="1" stop-color="#3b7e9b" offset="1"/>
              </linearGradient>
            </defs>
            <rect transform="matrix(1, 0, 0, 1, 0, 0)" stroke="#000" fill="url(#rectGrad)" height="12" width="20" y="5.5" x="1.5"/>
          </svg>
        </button>
        <button id="mode-circle" onclick="svgEditor.canvas.setMode('circle')" title="Circle tool">
          <svg viewBox="0 0 54 54" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
            <defs>
              <linearGradient y2="1.0" x2="1.0" y1="0.188" x1="0.172" id="circleGrad">
                <stop stop-opacity="1" stop-color="#fff" offset="0.0"/>
                <stop stop-opacity="1" stop-color="#f66" offset="1.0"/>
              </linearGradient>
            </defs>
            <circle stroke-opacity="1" fill-opacity="1" stroke-width="2" stroke="#000" fill="url(#circleGrad)" r="23" cy="27" cx="27"/>
          </svg>
        </button>
        <button id="mode-ellipse" onclick="svgEditor.canvas.setMode('ellipse')" title="Ellipse tool">
          <svg viewBox="0 0 54 54" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
            <defs>
             <linearGradient y2="1.0" x2="1.0" y1="0.188" x1="0.172" id="ellipseGrad">
               <stop stop-opacity="1" stop-color="#fff" offset="0.0"/>
               <stop stop-opacity="1" stop-color="#f66" offset="1.0"/>
              </linearGradient>
            </defs>
            <ellipse stroke-opacity="1" fill-opacity="1" stroke-width="2" stroke="#000" fill="url(#ellipseGrad)" rx="23" ry="15" cy="27" cx="27"/>
          </svg>
        </button>
        <button id="mode-path" onclick="svgEditor.canvas.setMode('path')" title="Path tool">
          <svg viewBox="0 0 124 124" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
            <defs>
              <linearGradient y2="1" x2="1" y1="0.281" x1="0.336" id="pathGrad">
                <stop stop-opacity="1" stop-color="#fff" offset="0"/>
                <stop stop-opacity="1" stop-color="#33a533" offset="1"/>
              </linearGradient>
            </defs>
            <path stroke-width="4" stroke="#000" fill="url(#pathGrad)" d="m6,103l55,-87c85,33.64 -26,37.12 55,87l-110,0z"/>
          </svg>
        </button>
      </div>

      <div id="toolboxColumn2">
        <div id="selected-actions" style="display: none">
          <button onclick="svgEditor.canvas.deleteSelectedElements()" title="Delete selected">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
              <rect ry="3" rx="3" stroke="#800000" fill="#a00" height="20.295" width="21.175" y="1.703" x="1.420"/>
              <rect ry="3" rx="3" stroke="#f55" fill="#a00" height="18.630" width="19.611" y="2.536" x="2.203"/>
              <line stroke-width="2" fill="none" stroke="#fff" y2="16.851" x2="17.006" y1="6.851" x1="7.006"/>
              <line stroke-width="2" fill="none" stroke="#fff" y2="16.851" x2="7.006" y1="6.851" x1="17.006"/>
            </svg>
          </button>
        </div>
        <div id="selected-single-actions" style="display: none">
          <button onclick="svgEditor.canvas.moveToTopSelectedElement()" title="Move to top">
            <svg viewBox="0 0 23 23" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
              <defs>
                <linearGradient id="moveupGrad" x1="0" y1="0" x2="1" y2="0">
                  <stop offset="0" stop-color="#9fdcf4" stop-opacity="1"/>
                  <stop offset="1" stop-color="#617e96" stop-opacity="1"/>
                </linearGradient>
              </defs>
              <line x1="1.3" y1="8.199" x2="12.8" y2="8.199" stroke="#000" fill="none" stroke-width="2"/>
              <line x1="1.298" y1="12.199" x2="12.798" y2="12.199" stroke="#000" fill="none" stroke-width="2"/>
              <line x1="1.299" y1="16.199" x2="12.799" y2="16.199" stroke="#000" fill="none" stroke-width="2"/>
              <line x1="1.299" y1="20.199" x2="12.799" y2="20.199" stroke="#000" fill="none" stroke-width="2"/>
              <rect x="1.55" y="1.85" width="20" height="3.2" fill="url(#moveupGrad)" stroke="#000"/>
              <path d="m16.835,21.146l2.332,0l0,-11.046l1.985,0l-3.151,-3.449l-3.151,3.449l1.985,0l0,11.046z" fill="#000" stroke="none"/>
            </svg>
          </button>
          <button onclick="svgEditor.canvas.moveToBottomSelectedElement()" title="Move to bottom">
            <svg viewBox="0 0 23 23" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
              <defs>
                <linearGradient y2="0" x2="1" y1="0" x1="0" id="movedownGrad">
                  <stop stop-opacity="1" stop-color="#bc7f05" offset="0"/>
                  <stop stop-opacity="1" stop-color="#fcfc9f" offset="1"/>
                </linearGradient>
              </defs>
              <line stroke-width="2" fill="none" stroke="#000" y2="2.5" x2="22" y1="2.5" x1="10.5"/>
              <line stroke-width="2" fill="none" stroke="#000" y2="6.5" x2="21.998" y1="6.5" x1="10.498"/>
              <line stroke-width="2" fill="none" stroke="#000" y2="10.5" x2="21.999" y1="10.5" x1="10.499"/>
              <line stroke-width="2" fill="none" stroke="#000" y2="14.5" x2="21.999" y1="14.5" x1="10.499"/>
              <rect stroke="#000" fill="url(#movedownGrad)" height="2.2" width="20" y="17.65" x="1.65"/>
              <path stroke="none" fill="#000" d="m4.25,1.55l2.35,0l0,11.05l2,0l-3.175,3.45l-3.175,-3.45l2,0l0,-11.05z"/>
            </svg>
          </button>
          <button onclick="svgEditor.changeFill()" title="Fill colour">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
              <rect height="24" width="24" y="0" x="0" id="fillRect"/>
              <g id='fillNone'>
                <line stroke="#d40000" x1="0" y1="0" x2="24" y2="24"/>
                <line stroke="#d40000" x1="24" y1="0" x2="0" y2="24"/>
              </g>
              <rect height="24" width="24" y="0" x="0" fill="none" stroke="#000" stroke-width="1"/>
            </svg>
          </button>
          <button onclick="svgEditor.changeStroke()" title="Line colour">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
              <rect height="20" width="20" y="2" x="2" id="strokeRect"/>
            </svg>
          </button>
          <button onclick="svgEditor.canvas.convertToPath()" title="Convert to path" id="convertpath-action">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
              <defs>
                <linearGradient y2="0.469" x2="0.430" y1="0.102" x1="0.105" id="convertpathGrad">
                  <stop stop-color="#f00" offset="0"/>
                  <stop stop-opacity="0" stop-color="#f00" offset="1"/>
                </linearGradient>
              </defs>
              <circle cx="21" cy="21.312" r="18.445" fill="url(#convertpathGrad)" stroke="#000"/>
              <path fill="none" stroke="#000" d="m2.875,21.312c-0.375,-9.25 7.75,-18.875 17.75,-18"/>
              <line x1="25.375" y1="3.062" x2="8.5" y2="3.062" stroke="#808080" fill="none"/>
              <line x1="2.625" y1="24.75" x2="2.625" y2="9.812" stroke="#808080" fill="none"/>
              <circle cx="8.5" cy="2.938" r="1.953" fill="#0ff" stroke="#00f" stroke-width="0.5"/>
              <circle cx="2.625" cy="9.812" r="1.953" fill="#0ff" stroke="#00f" stroke-width="0.5"/>
              <circle cx="20.875" cy="3.188" r="2.5" fill="#0ff" stroke="#00f"/>
              <circle cx="2.875" cy="21.062" r="2.5" fill="#0ff" stroke="#00f"/>
            </svg>
          </button>
        </div>
        <div id="node-actions" style="display: none">
          <button onclick="svgEditor.canvas.pathActions.clonePathNode()" title="Add node">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
              <path stroke-width="2" d="m4.195,19.421c15.494,-15.533 -0.211,0.158 15.611,-15.579" stroke="#8dd35f" fill="none"/>
              <circle stroke-width="0.5" stroke="#00f" fill="#0ff" r="2.262" cy="4" cx="19.75"/>
              <circle stroke-width="0.5" stroke="#00f" fill="#0ff" r="2.262" cy="19.403" cx="4.065"/>
              <circle stroke-width="0.5" stroke="#00f" fill="#0ff" r="2.262" cy="11.625" cx="11.938"/>
              <line stroke-linecap="round" y2="14.466" x2="9.666" y1="4.022" x1="9.782" stroke-dasharray="null" stroke-width="2" stroke="#00f" fill="#00f"/>
              <line stroke-linecap="round" y2="9.453" x2="15.150" y1="9.394" x1="4.473" stroke-dasharray="null" stroke-width="2" stroke="#00f" fill="#00f"/>
            </svg>
          </button>
          <button onclick="svgEditor.canvas.pathActions.deletePathNode()" title="Delete node">
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
              <path stroke-width="2" d="m4.195,19.421c15.494,-15.533 -0.211,0.158 15.611,-15.579" stroke="#8dd35f" fill="none"/>
              <circle stroke-width="0.5" stroke="#00f" fill="#0ff" r="2.262" cy="4" cx="19.75"/>
              <circle stroke-width="0.5" stroke="#00f" fill="#0ff" r="2.262" cy="19.403" cx="4.065"/>
              <circle stroke-width="0.5" stroke="#00f" fill="#0ff" r="2.262" cy="11.625" cx="11.938"/>
              <g transform="rotate(-45.29 9.81,9.24)">
                <line stroke-linecap="round" y2="9.453" x2="15.150" y1="9.394" x1="4.473" stroke-dasharray="null" stroke-width="2" stroke="#f00" fill="none"/>
                <line stroke-linecap="round" y2="14.466" x2="9.666" y1="4.022" x1="9.782" stroke-dasharray="null" stroke-width="2" stroke="#f00" fill="none"/>
              </g>
            </svg>
          </button>
          <button onclick="svgEditor.canvas.pathActions.opencloseSubPath()" id="open-action" title="Open path" style="display: none">
            <svg viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
              <path stroke="#000" stroke-width="15" fill="#ffc8c8" d="m123.5,38l-84,106l27,115l166,2l29,-111"/>
              <line x1="276.5" y1="153" x2="108.5" y2="24" stroke="#000" stroke-width="10" fill="none"/>
              <g stroke-width="15" stroke="#00f" fill="#0ff">
                <circle r="30" cy="41" cx="123"/>
                <circle r="30" cy="146" cx="40"/>
                <circle r="30" cy="260" cx="69"/>
                <circle r="30" cy="260" cx="228"/>
                <circle r="30" cy="148" cx="260"/>
              </g>
              <g stroke="#a00" stroke-width="15" fill="none">
                <line x1="168" y1="24" x2="210" y2="150"/>
                <line x1="210" y1="24" x2="168" y2="150"/>
              </g>
            </svg>
          </button>
          <button onclick="svgEditor.canvas.pathActions.opencloseSubPath()" id="close-action" title="Close path" style="display: none">
            <svg viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
              <path stroke="#000" stroke-width="15" fill="#ffc8c8" d="m121.5,40l-84,106l27,115l166,2l29,-111"/>
              <line x1="240" y1="136" x2="169.5" y2="74" stroke="#a00" stroke-width="25" fill="none"/>
              <path stroke="none" fill="#a00" d="m158,65l31,74l-3,-50l51,-3z"/>
              <g stroke-width="15" stroke="#00f" fill="#0ff">
                <circle r="30" cy="41" cx="123"/>
                <circle r="30" cy="146" cx="40"/>
                <circle r="30" cy="260" cx="69"/>
                <circle r="30" cy="260" cx="228"/>
                <circle r="30" cy="148" cx="260"/>
              </g>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <div id="editorContainer"></div>

    <div id="menu">
      <div id="menuCut" class="menuitem">Cut</div>
      <div id="menuCopy" class="menuitem">Copy</div>
      <div id="menuPaste" class="menuitem">Paste</div>
      <div class="menudiv"></div>
      <div id="menuDelete" class="menuitem">Delete</div>
    </div>
  </body>
</html>
